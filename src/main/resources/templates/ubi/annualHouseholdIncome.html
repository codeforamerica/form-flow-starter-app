<!DOCTYPE html>
<html th:lang="${#locale.language}" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/head :: head(title=#{annual-household-income.title})}"></head>
<body>
<div class="page-wrapper">
    <div th:replace="~{fragments/toolbar :: toolbar}"></div>
    <section class="slab">
        <div class="grid">
            <div th:replace="~{fragments/goBack :: goBackLink}"></div>
            <main id="content" role="main" class="form-card spacing-above-35">
                <th:block
                        th:replace="~{fragments/cardHeader :: cardHeader(header=#{annual-household-income.header})}"/>
                <div class="form-card__content boxed-content text--centered">
                    <strong th:text="#{annual-household-income.box-header}"></strong>
                    <ul class="subflow-list list--bulleted padding-left-25">
                        <th:block th:if="${fieldData.containsKey('income')}">
                            <th:block
                                    th:with="income=${fieldData.get('income')}, householdMembers=${relatedSubflowData}">
                                <th:block th:each="incomeSubflow: ${income}">
                                    <strong th:text="${incomeSubflow.get('uuid')}"></strong>
                                    <li
                                        th:each="householdMemberIncome: ${incomeSubflow.get('householdMemberIncomeByType')}"
                                        class="spacing-below-15">
                                      <span class="space-between">
                                        <span>
                                          <span
                                                  th:text="${householdMemberIncome.get('uuid')}"></span>
                                            <span
                                                    th:text="${householdMemberIncome.get('amount')}"></span>
                                        </span>
                                        <span class="text--small spacing-below-0">
                                          <a th:href="'/flow/ubi/incomeAmount/' + ${incomeSubflow.get('uuid')} +'/' + ${householdMemberIncome.get('uuid')} + '/edit'"
                                             th:text="#{general.edit}"
                                             th:id="'edit-iteration-' + ${incomeSubflow.get('uuid')}"
                                             class="subflow-edit"></a>
                                                      <a th:href="'/flow/ubi/income/' + ${incomeSubflow.get('uuid')} +'/' + ${householdMemberIncome.get('uuid')} + '/deleteConfirmation'"
                                                         th:text="#{general.delete}"
                                                         class="subflow-delete"
                                                         th:id="'delete-iteration-' + ${incomeSubflow.get('uuid')} +'/' + ${householdMemberIncome.get('uuid')}"></a>
                                        </span>
                                      </span>
                                    </li>
                                </th:block>
                            </th:block>

                        </th:block>
                        </th:block>
                    </ul>
                </div>
                <div class="form-card__footer">
                    <th:block
                            th:replace="~{fragments/continueButton :: continue(text=#{annual-household-income.continue-button})}"/>
                </div>
            </main>
        </div>
    </section>
</div>
<th:block th:replace="~{fragments/footer :: footer}"/>
</body>
</html>
