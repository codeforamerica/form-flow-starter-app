name: ubi
flow:
  howThisWorks:
    nextScreens:
      - name: personalInfo
  personalInfo:
    onPostAction: UpdatePersonalInfoDates
    crossFieldValidationAction: ValidateMovedToUSADate
    nextScreens:
      - name: homeAddress
  homeAddress:
    nextScreens:
      - name: pickHomeAddress
        condition: SmartySuggestionFound
      - name: verifyHomeAddress
        condition: SmartySuggestionNotFound
  pickHomeAddress:
    nextScreens:
      - name: contactInfo
  verifyHomeAddress:
    nextScreens:
      - name: contactInfo
  contactInfo:
    crossFieldValidationAction: CheckIndicatedContactMethodIsProvided
    nextScreens:
      - name: signName
  signName:
    beforeSaveAction: SendEmailConfirmation
    nextScreens:
      - name: nextSteps
  nextSteps:
    nextScreens:
      - name: success
  success:
    nextScreens: null